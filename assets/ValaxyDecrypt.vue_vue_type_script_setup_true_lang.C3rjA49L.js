import"./chunks/@vueuse/motion.DhjSK7p0.js";import{E as u,u as w}from"./app.BLsPbhY6.js";import{u as _}from"./decrypt.BGVeJEIE.js";import"./chunks/dayjs.Csn7IZCt.js";import{a9 as d,bb as i,U as C,Z as n,b3 as r,_ as e,c0 as k,Y as m,bR as g,c1 as T,aO as V,a5 as A,a6 as D,bB as E,aq as B}from"./framework.Dgturmf_.js";const I={key:0,"w-full":"","pt-14":"","pb-10":""},N={class:"decrypt-password-container w-full sm:w-1/2","flex-center":"","m-auto":"",relative:""},P={key:0,class:"-top-6",absolute:"","text-xs":"",op:"50"},U=["innerHTML"],W={key:1,class:"-bottom-6",absolute:"","text-xs":"",op:"50"},H={key:1},O=d({__name:"ValaxyDecrypt",props:{encryptedContent:{},hint:{}},setup(v){const y=v,s=i(""),a=i(""),l=i(!1),{decrypt:f}=_();async function p(){const o=y.encryptedContent;if(o)try{const t=await f(s.value,o);a.value=t||"",setTimeout(()=>{u()},16)}catch(t){l.value=!0,console.error(t)}}function h(){a.value="",s.value="",setTimeout(()=>{u()},16)}const b=d({name:"ValaxyDeprecatedContent",props:{html:String},render(){const o=`<div>${this.html}</div>`;return B({setup:()=>({frontmatter:w()}),template:o})}}),x=C(()=>location.protocol!=="https:");return(o,t)=>(r(),n("div",null,[a.value?(r(),n("div",H,[D(E(b),{html:a.value},null,8,["html"]),e("div",{"w-full":"","text-center":"","mt-8":""},[e("button",{"m-auto":"",class:"btn","font-bold":"",onClick:h}," Encrypt Again ")])])):(r(),n("div",I,[e("div",N,[k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.value=c),"w-full":"",border:"~ solid dark:dark-100","pl-5":"","pr-11":"","py-3":"","rounded-full":"","hover:shadow":"",transition:"",type:"password",placeholder:"Enter password",class:V(l.value&&"border-red"),onInput:t[1]||(t[1]=c=>l.value=!1),onKeyup:T(p,["enter"])},null,34),[[g,s.value]]),e("div",{class:"text-gray/70 hover:text-gray transition","cursor-pointer":"",absolute:"","text-2xl":"","i-ri-arrow-right-circle-line":"","right-3":"",onClick:p}),o.hint?(r(),n("div",P,[e("div",{innerHTML:o.hint},null,8,U)])):m("v-if",!0),x.value?(r(),n("div",W,[...t[2]||(t[2]=[e("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",target:"_blank"},[e("span",null,"Web Crypto API")],-1),A(" Only works in HTTPS ",-1)])])):m("v-if",!0)])]))]))}});export{O as _};
